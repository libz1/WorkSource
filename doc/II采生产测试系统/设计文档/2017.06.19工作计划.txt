2017.06.27 出差胶州计划
1、找到合适的服务器进行系统检查、mysql数据库安装、数据初始化
2、找到II采产生用设备  II采带外壳、加电工装、载波抄控器、红外扩展坞
3、进行软件试用，结合具体的设备进行
4、mysql数据库备份，计划，mysql数据库恢复
5、无mysql数据时，自动转为本地数据库，继续运行  功能开发


笔记本开发环境安装、测试，可执行程序发布
新环境下，开发环境搭建
 


II采生产测试系统开发进度报告

2017.06.13~2017.06.19 完成的工作：
1、II采生产测试流程设计
2、相关表结构设计及完善
3、测试原型程序开发，验证流程及数据结构（扫码、实现测试过程）
4、根据模拟的测试数据，进行统计分析后可以得到产线操作的耗时分析
5、在生产测试成功和失败后，播放不同的提示声音，进行用户操作提示


未完成的工作
1、因为涉及到多个用户使用系统的问题，后台数据库不能使用单机版的SQLite，修改为Mysql
    Mysql数据库的连接配置，数据备份工作需要进行（预计1工作日）
    部署OK，服务器需要安装，客户端无需安装，直接使用java程序即可
    数据库如何进行备份和恢复

2、因为涉及到多个用户使用系统的问题，需要简单的用户管理、权限管理（预计1工作日）
   需要登录系统
   高级用户可以查看所有人的统计数据

   用户管理表结构设计
   用户登录验证、根据用户权限显示不同主界面
   用户CURD管理模块开发
   普通用户密码修改、TransImpl数据修改时的细节处理

3、因产线在用的自动测试系统是delphi系统，而目前开发完成的Java版自动测试系统也未提供外部封装调用
  （预计3工作日）
   所以本系统需要添加自动测试相关代码
    获取到了测试用例，需要控制两个串口分别进行操作
    
    测试用例表结构设计、测试执行结果表结构设计
    测试用例数据维护
    串口管理模块表结构调整，CURD模块代码调整
    MinaSerialServer代码调整，收发数据代码调整，因为要从指定端口发送645报文，与之前的698.45根据终端地址判断发送有极大差异 
    测试执行过程代码开发



4、统计分析模块开发 （预计1工作日）
5、添加功能模块，用于管理扫描条码（长条码与短条码）与通信地址的匹配数据（预计0.5工作日）
6、在特殊情况下，无后台数据库支持时，依然可以继续生产测试工作，相关数据保存在本地文件中，后续可以进行数据合并
  （预计3工作日）

上述工作预计9.5工作日，包含自行测试工作，开发完成后可以在产线部署应用



    载波无地址抄485表【验证II采的载波和485通信能力】【电表地址可配置】
    ->68 [MT485=6] 68 11 04 33 33 34 33 35 16   抄读电表0001000数据标识
    <-68 [MT485=6] 68 91 08 33 33 34 33 ** ** ** ** ** 16
    设备地址验证（FE）【验证II采的红外通信能力，并设置通信地址】 【通信地址来源于扫描匹配】
    ->FE FE FE FE 68 AA AA AA AA AA AA 68 15 06 [SEQ=6] 12 16  写设备地址为SEQ的取值
    <-FE FE FE FE 68 ** ** ** 06 17 20 68 95 00 ** 16
    读PLCM1643程序(FE)
    ->FE FE FE FE 68 [SEQ=6] 68 11 04 34 33 B3 37 37 16  读取设备的04800001厂家软件版本
    <-FE FE FE FE 68 [SEQ=6] 68 91 24 34 33 B3 37 83 7F 76 80 64 69 60 7C 7C 60 7A 8A 5B A9 64 61 6A 5C 60 64 67 63 6A 63 6B 53 53 53 53 53 53 53 ** 16

    FE FE FE FE 68 16 38 65 03 17 90 68 11 04 34 33 B3 37 37 16 

    68 90 78 56 34 12 00 68 11 04 33 33 34 33 35 16
    FE FE FE FE 68 68 11 04 34 33 B3 37 37 16

      FE FE FE FE 68 AA AA AA AA AA AA 68 15 06 16 38 65 03 17 90 12 16
      FE FE FE FE 68 16 38 65 03 17 90 68 11 04 34 33 B3 37 37 16

    68 90 78 56 34 12 00 68 91 08 33 33 34 33 12 34 56 78 90 16
    FE FE FE FE 68 12 34 56 06 17 20 68 95 00 88 16


    1、FE FE FE FE 68 12 34 56 06 17 20 68 95 00 88 16
    2、FE FE FE FE 68 16 38 65 03 17 90 68 91 24 34 33 B3 37 83 7F 76 80 64 69 60 7C 7C 60 7A 8A 5B A9 64 61 6A 5C 60 64 67 63 6A 63 6B 53 53 53 53 53 53 53 12 16


5、自动测试软件进行前后台代码分离，便于将后台部分直接对外发布
    通信部分代码，用例执行部分代码，用例基本管理代码





导出用例报文
无地址抄485表         ' 68 [MT485=6] 68 11 04 33 33 34 33 35 16   	645无格式    3 68 [MT485=6] 68 91 08 33 33 34 33 ** ** ** ** ** 16      '             @          m毪5设备地址验证（FE）        7 FE FE FE FE 68 AA AA AA AA AA AA 68 15 06 [SEQ=6] 12 16   	645无格式    / FE FE FE FE 68 ** ** ** 06 17 20 68 95 00 ** 16    d   '             @          }毪5读PLCM1643程序(FE)        1 FE FE FE FE 68 [SEQ=6] 68 11 04 34 33 B3 37 37 16   	645无格式    ? FE FE FE FE 68 [SEQ=6] 68 91 24 34 33 B3 37 83 7F 76 80 64 69 60 7C 7C 60 7A 8A 5B A9 64 61 6A 5C 60 64 67 63 6A 63 6B 53 53 53 53 53 53 53 ** 16    2   '